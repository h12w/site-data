<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Probability as a Generalisation of Boolean Algebra | @h12</title>
<meta name="keywords" content="probability, Boolean algebra, math">
<meta name="description" content="A summary of Boolean algebra
Given the following notations:

a proposition is denoted as a lowercase letter, e.g. $p$, $q$
the truth value of a proposition $p$ is denoted as $ B(p) \in \set{0, 1} $, where $B(p)=1$ if $p$ is true or $B(p)=0$ if $p$ is false

Negation (not, $¬$), conjunction (and, $∧$) and disjunction (or, $∨$) are defined by the truth tables below:

  
      
          $B(p)$
          $B(¬p)$
      
  
  
      
          0
          1
      
      
          1
          0
      
  

">
<meta name="author" content="Hǎi-Liàng &#34;Hal&#34; Wáng">
<link rel="canonical" href="http://h12.io/article/probability-as-a-generalisation-of-boolean-algebra/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.ef93a538cbae171c70c47408f7fccb878c5ffd285cc92b2b46b10dde0f97f53e.css" integrity="sha256-75OlOMuuFxxwxHQI9/zLh4xf/ShcySsrRrEN3g&#43;X9T4=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://h12.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://h12.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://h12.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://h12.io/apple-touch-icon.png">
<link rel="mask-icon" href="http://h12.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://h12.io/article/probability-as-a-generalisation-of-boolean-algebra/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">





<link id="syntax-mode" rel="stylesheet" href="/css/syntax-light.css">

<script>
    function isDarkMode() {
        const mode = localStorage.getItem("pref-theme");
        return (mode && mode === "dark") ||
            document.body.className.includes("dark") ||
            false;
    }

    function syncSyntaxMode() {
        document.getElementById("syntax-mode").href = isDarkMode() ? "/css/syntax-dark.css" : "/css/syntax-light.css";
    }

    document.addEventListener("DOMContentLoaded", () => {
        syncSyntaxMode();
        const toggleButton = document.getElementById("theme-toggle");
        if (!toggleButton) {
            console.log("No toggle button found");
            return;
        }
        toggleButton.addEventListener("click", syncSyntaxMode);
    });
</script>

<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$','$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true
    },
    options: {
      enableMenu: false,
      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
    }
  };
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
<meta property="og:url" content="http://h12.io/article/probability-as-a-generalisation-of-boolean-algebra/">
  <meta property="og:site_name" content="@h12">
  <meta property="og:title" content="Probability as a Generalisation of Boolean Algebra">
  <meta property="og:description" content="A summary of Boolean algebra Given the following notations:
a proposition is denoted as a lowercase letter, e.g. $p$, $q$ the truth value of a proposition $p$ is denoted as $ B(p) \in \set{0, 1} $, where $B(p)=1$ if $p$ is true or $B(p)=0$ if $p$ is false Negation (not, $¬$), conjunction (and, $∧$) and disjunction (or, $∨$) are defined by the truth tables below:
$B(p)$ $B(¬p)$ 0 1 1 0 ">
  <meta property="og:locale" content="en-us">
  <meta property="og:type" content="article">
    <meta property="article:section" content="article">
    <meta property="article:published_time" content="2020-12-14T10:46:33+00:00">
    <meta property="article:modified_time" content="2020-12-14T10:46:33+00:00">
    <meta property="article:tag" content="Probability">
    <meta property="article:tag" content="Boolean Algebra">
    <meta property="article:tag" content="Math">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Probability as a Generalisation of Boolean Algebra">
<meta name="twitter:description" content="A summary of Boolean algebra
Given the following notations:

a proposition is denoted as a lowercase letter, e.g. $p$, $q$
the truth value of a proposition $p$ is denoted as $ B(p) \in \set{0, 1} $, where $B(p)=1$ if $p$ is true or $B(p)=0$ if $p$ is false

Negation (not, $¬$), conjunction (and, $∧$) and disjunction (or, $∨$) are defined by the truth tables below:

  
      
          $B(p)$
          $B(¬p)$
      
  
  
      
          0
          1
      
      
          1
          0
      
  

">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Articles",
      "item": "http://h12.io/article/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Probability as a Generalisation of Boolean Algebra",
      "item": "http://h12.io/article/probability-as-a-generalisation-of-boolean-algebra/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Probability as a Generalisation of Boolean Algebra",
  "name": "Probability as a Generalisation of Boolean Algebra",
  "description": "A summary of Boolean algebra Given the following notations:\na proposition is denoted as a lowercase letter, e.g. $p$, $q$ the truth value of a proposition $p$ is denoted as $ B(p) \\in \\set{0, 1} $, where $B(p)=1$ if $p$ is true or $B(p)=0$ if $p$ is false Negation (not, $¬$), conjunction (and, $∧$) and disjunction (or, $∨$) are defined by the truth tables below:\n$B(p)$ $B(¬p)$ 0 1 1 0 ",
  "keywords": [
    "probability", "Boolean algebra", "math"
  ],
  "articleBody": "A summary of Boolean algebra Given the following notations:\na proposition is denoted as a lowercase letter, e.g. $p$, $q$ the truth value of a proposition $p$ is denoted as $ B(p) \\in \\set{0, 1} $, where $B(p)=1$ if $p$ is true or $B(p)=0$ if $p$ is false Negation (not, $¬$), conjunction (and, $∧$) and disjunction (or, $∨$) are defined by the truth tables below:\n$B(p)$ $B(¬p)$ 0 1 1 0 $B(p)$ $B(q)$ $B(p∧q)$ $B(p∨q)$ 0 0 0 0 0 1 0 1 1 0 0 1 1 1 1 1 Truth value allocation as an intuitive picture of Boolean algebra Intuitively, we can derive the same truth tables by following the process of the truth value allocation with the two steps below:\nList all mutually exclusive results from propositions under consideration Allocate the truth value to them so that their truth-values sum up to $1$ Note that the second step actually requires only one of result has a truth value $1$, given $ B(p) \\in \\set{0, 1} $.\nNegation For a single proposition $p$, there are two mutually exclusive results $p$ (is true) or $¬p$ (is true), as follows:\n$¬p$ $p$ $B(¬p)$ $B(p)$ Where we can allocate the truth value:\n$$B(¬p) + B(p) = 1$$\nThus we get an equivalent equation to the negation truth table.\nConjunction Now let’s consider two propositions $p$ and $q$ at the same time. There are four mutually exclusive results: $(p∧q)$, $(¬p∧q)$, $(p∧¬q)$ or $(¬p∧¬q)$. Thus we have the truth value allocation table:\n$¬p$ $p$ $¬q$ $B(¬p∧¬q)$ $B(p∧¬q)$ $q$ $B(¬p∧q)$ $B(p∧q)$ Where we can allocate the truth value:\n$$ B(¬p∧¬q) + B(p∧¬q) + B(¬p∧q) + B(p∧q) = 1 $$\nFrom the allocation we can easily get $B(p)$ as the sum of the second column:\n$$ B(p) = B(p∧q) + B(p∧¬q) $$\nAnd $B(q)$ as the sum of the second row:\n$$ B(q) = B(p∧q) + B(¬p∧q) $$\nSimilar equations can be derived for $B(¬p)$ as the sum of the first column and $B(¬q)$ as the sum of the first row.\nIf we use the notation $B(q|p)$ as the ratio of truth value “q is true” given “p is true”, the conjunction $B(p∧q)$ can be expressed as:\n$$ B(p∧q) = B(p) \\times B(q|p) $$\nThis equation can be read from the allocation table as “the sum of the first column where $p$ is true” times “the ratio of $q$ is true given $p$ is true”.\nAlso, note that $B(q|p) = B(q)$, which can be easily derived from the allocation table. Thus we have the equivalent equation for the conjunction:\n$$ B(p∧q) = B(p) \\times B(q) $$\nDisjunction The disjunction $B(p∨q)$ can be calculated by summing up the second column (where $p$ is true) and the second row (where $q$ is true) but subtracting $B(p∧q)$ (which is summed twice):\n$$ B(p∨q) = B(p) + B(q) - B(p∧q) $$\nFrom Boolean algebra to probability The probability can be generalised from the similar notations and intuitive allocation picture, by replacing the truth value with the probability value.\nGiven the following notations:\na proposition is denoted as a lowercase letter, e.g. $p$, $q$ the probability of a proposition $p$ is denoted as $ P(p) \\in [0, 1] $, where $P(p)$ represents our belief in the truthfulness of the proposition $p$ If we enumerate all possible mutually exclusive outcomes and allocate the probability value $1$ to them. We will get similar equations as the Boolean algebra.\n$$ P(p) + P(¬p) = 1 $$\nThe product (chain) rule:\n$$ P(p∧q) = P(p) \\times P(q|p) $$\nWhere $P(q|p)$ is called the conditional probability of $q$ given $p$.\nAnd the sum rule:\n$$ P(p∨q) = P(p) + P(q) - P(p∧q) $$\nThen all the rest of the probability theory could be derived from the definitions above.\nAlso note that the notations above are equivalent to the Kolmogorov first and second axioms and the probability allocation is the third axiom, only expressed more intuitively but less formally.\n",
  "wordCount" : "653",
  "inLanguage": "en",
  "datePublished": "2020-12-14T10:46:33Z",
  "dateModified": "2020-12-14T10:46:33Z",
  "author":{
    "@type": "Person",
    "name": "Hǎi-Liàng \"Hal\" Wáng"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://h12.io/article/probability-as-a-generalisation-of-boolean-algebra/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "@h12",
    "logo": {
      "@type": "ImageObject",
      "url": "http://h12.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://h12.io/" accesskey="h" title="@h12 (Alt + H)">@h12</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://h12.io/article/" title="Articles">
                    <span><i class="fas fa-newspaper"></i> Articles</span>
                </a>
            </li>
            <li>
                <a href="http://h12.io/project/" title="Projects">
                    <span><i class="fab fa-github"></i> Projects</span>
                </a>
            </li>
            <li>
                <a href="http://h12.io/note/" title="Notes">
                    <span><i class="fas fa-sticky-note"></i> Notes</span>
                </a>
            </li>
            <li>
                <a href="http://h12.io/about/" title="About">
                    <span><i class="fas fa-user"></i> About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      Probability as a Generalisation of Boolean Algebra
    </h1>
    <div class="post-meta"><span title='2020-12-14 10:46:33 +0000 UTC'>December 14, 2020</span>

</div>
  </header> 
  <div class="post-content"><h2 id="a-summary-of-boolean-algebra">A summary of Boolean algebra<a hidden class="anchor" aria-hidden="true" href="#a-summary-of-boolean-algebra">#</a></h2>
<p>Given the following notations:</p>
<ul>
<li>a proposition is denoted as a lowercase letter, e.g. $p$, $q$</li>
<li>the truth value of a proposition $p$ is denoted as $ B(p) \in \set{0, 1} $, where $B(p)=1$ if $p$ is true or $B(p)=0$ if $p$ is false</li>
</ul>
<p>Negation (<code>not</code>, $¬$), conjunction (<code>and</code>, $∧$) and disjunction (<code>or</code>, $∨$) are defined by the truth tables below:</p>
<table>
  <thead>
      <tr>
          <th>$B(p)$</th>
          <th>$B(¬p)$</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>0</td>
          <td>1</td>
      </tr>
      <tr>
          <td>1</td>
          <td>0</td>
      </tr>
  </tbody>
</table>
<p></p>
<table>
  <thead>
      <tr>
          <th>$B(p)$</th>
          <th>$B(q)$</th>
          <th>$B(p∧q)$</th>
          <th>$B(p∨q)$</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>0</td>
          <td>0</td>
          <td>0</td>
          <td>0</td>
      </tr>
      <tr>
          <td>0</td>
          <td>1</td>
          <td>0</td>
          <td>1</td>
      </tr>
      <tr>
          <td>1</td>
          <td>0</td>
          <td>0</td>
          <td>1</td>
      </tr>
      <tr>
          <td>1</td>
          <td>1</td>
          <td>1</td>
          <td>1</td>
      </tr>
  </tbody>
</table>
<h2 id="truth-value-allocation-as-an-intuitive-picture-of-boolean-algebra">Truth value allocation as an intuitive picture of Boolean algebra<a hidden class="anchor" aria-hidden="true" href="#truth-value-allocation-as-an-intuitive-picture-of-boolean-algebra">#</a></h2>
<p>Intuitively, we can derive the same truth tables by following the process of the truth value allocation with the two steps below:</p>
<ul>
<li>List all mutually exclusive results from propositions under consideration</li>
<li>Allocate the truth value to them so that their truth-values sum up to $1$</li>
</ul>
<p>Note that the second step actually requires only one of result has a truth value $1$, given $ B(p) \in \set{0, 1} $.</p>
<h3 id="negation">Negation<a hidden class="anchor" aria-hidden="true" href="#negation">#</a></h3>
<p>For a single proposition $p$, there are two mutually exclusive results $p$ (is true) or $¬p$ (is true), as follows:</p>
<table>
  <thead>
      <tr>
          <th>$¬p$</th>
          <th>$p$</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>$B(¬p)$</td>
          <td>$B(p)$</td>
      </tr>
  </tbody>
</table>
<p>Where we can allocate the truth value:</p>
<p>$$B(¬p) + B(p) = 1$$</p>
<p>Thus we get an equivalent equation to the negation truth table.</p>
<h3 id="conjunction">Conjunction<a hidden class="anchor" aria-hidden="true" href="#conjunction">#</a></h3>
<p>Now let&rsquo;s consider two propositions $p$ and $q$ at the same time. There are four mutually exclusive results: $(p∧q)$, $(¬p∧q)$, $(p∧¬q)$ or $(¬p∧¬q)$. Thus we have the truth value allocation table:</p>
<p></p>
<table>
<tr>
    <th></th>
    <td>$¬p$</td>
    <td>$p$</td>
</tr>
<tr>
    <th>$¬q$</th>
    <td>$B(¬p∧¬q)$</td>
    <td>$B(p∧¬q)$</td>
</tr>
<tr>
    <th>$q$</th>
    <td>$B(¬p∧q)$</td>
    <td>$B(p∧q)$</td>
</tr>
</table>
<p></p>
<p>Where we can allocate the truth value:</p>
<p>$$ B(¬p∧¬q) + B(p∧¬q) + B(¬p∧q) + B(p∧q) = 1 $$</p>
<p>From the allocation we can easily get $B(p)$ as the sum of the second column:</p>
<p>$$ B(p) = B(p∧q) + B(p∧¬q) $$</p>
<p>And $B(q)$ as the sum of the second row:</p>
<p>$$ B(q) = B(p∧q) + B(¬p∧q) $$</p>
<p>Similar equations can be derived for $B(¬p)$ as the sum of the first column and $B(¬q)$ as the sum of the first row.</p>
<p>If we use the notation $B(q|p)$ as the ratio of truth value &ldquo;q is true&rdquo; given &ldquo;p is true&rdquo;, the conjunction $B(p∧q)$ can be expressed as:</p>
<p>$$ B(p∧q) = B(p) \times B(q|p)  $$</p>
<p>This equation can be read from the allocation table as &ldquo;the sum of the first column where $p$ is true&rdquo; times &ldquo;the ratio of $q$ is true given $p$ is true&rdquo;.</p>
<p>Also, note that $B(q|p) = B(q)$, which can be easily derived from the allocation table. Thus we have the equivalent equation for the conjunction:</p>
<p>$$ B(p∧q) = B(p) \times B(q) $$</p>
<h3 id="disjunction">Disjunction<a hidden class="anchor" aria-hidden="true" href="#disjunction">#</a></h3>
<p>The disjunction $B(p∨q)$ can be calculated by summing up the second column (where $p$ is true) and the second row (where $q$ is true) but subtracting $B(p∧q)$ (which is summed twice):</p>
<p>$$ B(p∨q) = B(p) + B(q) - B(p∧q) $$</p>
<h2 id="from-boolean-algebra-to-probability">From Boolean algebra to probability<a hidden class="anchor" aria-hidden="true" href="#from-boolean-algebra-to-probability">#</a></h2>
<p>The probability can be generalised from the similar notations and intuitive allocation picture, by replacing the truth value with the probability value.</p>
<p>Given the following notations:</p>
<ul>
<li>a proposition is denoted as a lowercase letter, e.g. $p$, $q$</li>
<li>the probability of a proposition $p$ is denoted as $ P(p) \in [0, 1] $, where $P(p)$ represents our belief in the truthfulness of the proposition $p$</li>
</ul>
<p>If we enumerate all possible mutually exclusive outcomes and allocate the probability value $1$ to them. We will get similar equations as the Boolean algebra.</p>
<p>$$ P(p) + P(¬p) = 1 $$</p>
<p>The product (chain) rule:</p>
<p>$$ P(p∧q) = P(p) \times P(q|p) $$</p>
<p>Where $P(q|p)$ is called the conditional probability of $q$ given $p$.</p>
<p>And the sum rule:</p>
<p>$$ P(p∨q) = P(p) + P(q) - P(p∧q) $$</p>
<p>Then all the rest of the probability theory could be derived from the definitions above.</p>
<p>Also note that the notations above are equivalent to the Kolmogorov first and second axioms and the probability allocation is the third axiom, only expressed more intuitively but less formally.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://h12.io/tags/probability/">Probability</a></li>
      <li><a href="http://h12.io/tags/boolean-algebra/">Boolean Algebra</a></li>
      <li><a href="http://h12.io/tags/math/">Math</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a><footer class="footer">
        <p>&copy; 2012-2025, <span class="my-name">Hǎi-Liàng "Hal" Wáng</span>.</p>
        <p xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><span property="dct:title">The content of this page</span> is licensed under <a href="https://creativecommons.org/licenses/by/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-flex;align-items:center;">CC BY 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1" alt=""><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1" alt=""></a></p>
    </footer>


<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
